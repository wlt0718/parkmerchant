import{N as k,D as E,a as A,r as f,l as m,C as x,H as b,L,I as M,O as P,A as T,k as g,g as N,M as _,P as D}from"./index-Fxc2rSLZ.js";var v=typeof window<"u";function z(n){return v?requestAnimationFrame(n):-1}var I=n=>n===window,y=(n,e)=>({top:0,left:0,right:n,bottom:e,width:n,height:e}),U=n=>{const e=g(n);if(I(e)){const t=e.innerWidth,r=e.innerHeight;return y(t,r)}return e!=null&&e.getBoundingClientRect?e.getBoundingClientRect():y(0,0)};function q(n=!1){const e=f(n);return[e,(r=!e.value)=>{e.value=r}]}function J(n){const e=k(n,null);if(e){const t=N(),{link:r,unlink:o,internalChildren:i}=e;r(t),E(()=>o(t));const a=A(()=>i.indexOf(t));return{parent:e,index:a}}return{parent:null,index:f(-1)}}function R(n){const e=[],t=r=>{Array.isArray(r)&&r.forEach(o=>{var i;D(o)&&(e.push(o),(i=o.component)!=null&&i.subTree&&(e.push(o.component.subTree),t(o.component.subTree.children)),o.children&&t(o.children))})};return t(n),e}var C=(n,e)=>{const t=n.indexOf(e);return t===-1?n.findIndex(r=>e.key!==void 0&&e.key!==null&&r.type===e.type&&r.key===e.key):t};function S(n,e,t){const r=R(n.subTree.children);t.sort((i,a)=>C(r,i.vnode)-C(r,a.vnode));const o=t.map(i=>i.proxy);e.sort((i,a)=>{const c=o.indexOf(i),s=o.indexOf(a);return c-s})}function K(n){const e=m([]),t=m([]),r=N();return{children:e,linkChildren:i=>{_(n,Object.assign({link:s=>{s.proxy&&(t.push(s),e.push(s.proxy),S(r,e,t))},unlink:s=>{const u=t.indexOf(s);e.splice(u,1),t.splice(u,1)},children:e,internalChildren:t},i))}}}function V(n){let e;x(()=>{n(),b(()=>{e=!0})}),L(()=>{e&&n()})}function W(n,e,t={}){if(!v)return;const{target:r=window,passive:o=!1,capture:i=!1}=t;let a=!1,c;const s=d=>{if(a)return;const l=g(d);l&&!c&&(l.addEventListener(n,e,{capture:i,passive:o}),c=!0)},u=d=>{if(a)return;const l=g(d);l&&c&&(l.removeEventListener(n,e,i),c=!1)};E(()=>u(r)),M(()=>u(r)),V(()=>s(r));let w;return P(r)&&(w=T(r,(d,l)=>{u(l),s(d)})),()=>{w==null||w(),u(r),a=!0}}function G(n,e,t={}){if(!v)return;const{eventName:r="click"}=t;W(r,i=>{(Array.isArray(n)?n:[n]).every(s=>{const u=g(s);return u&&!u.contains(i.target)})&&e(i)},{target:document})}var p,h;function Q(){if(!p&&(p=f(0),h=f(0),v)){const n=()=>{p.value=window.innerWidth,h.value=window.innerHeight};n(),window.addEventListener("resize",n,{passive:!0}),window.addEventListener("orientationchange",n,{passive:!0})}return{width:p,height:h}}var B=/scroll|auto|overlay/i,O=v?window:void 0;function Y(n){return n.tagName!=="HTML"&&n.tagName!=="BODY"&&n.nodeType===1}function H(n,e=O){let t=n;for(;t&&t!==e&&Y(t);){const{overflowY:r}=window.getComputedStyle(t);if(B.test(r))return t;t=t.parentNode}return e}function X(n,e=O){const t=f();return x(()=>{n.value&&(t.value=H(n.value,e))}),t}var F=Symbol("van-field");function Z(n){const e=k(F,null);e&&!e.customValue.value&&(e.customValue.value=n,T(n,()=>{e.resetValidation(),e.validateWithTrigger("onChange")}))}export{J as a,G as b,W as c,U as d,Z as e,q as f,X as g,H as h,Q as i,V as o,z as r,K as u};
