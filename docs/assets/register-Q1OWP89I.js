import{_ as y,u as I,n as k,r as p,o as c,f as u,j as s,s as a,v as r,t as w,p as P,l as V}from"./index-C1ztbtdN.js";import{u as C}from"./user-DZhjsBKq.js";import{s as i}from"./function-call-zy-4T7lm.js";import"./mount-component-DGqluWzw.js";import"./use-route-BlmzrEbl.js";import"./index-X5Mnn1qc.js";import"./on-popup-reopen-Br20eIOu.js";import"./index-1d-ZCeBd.js";import"./index-Dor0KNKy.js";import"./use-placeholder-DsvmDsam.js";const l=n=>(P("data-v-e45aa1c5"),n=n(),V(),n),E={class:"login"},T=l(()=>s("div",{class:"title"},"注册账号",-1)),U={class:"from"},B={class:"from-item"},D=l(()=>s("label",{for:"name",class:"from-label"},"名称",-1)),M={class:"from-item"},R=l(()=>s("label",{for:"mobile",class:"from-label"},"手机号",-1)),$={class:"from-item"},j=l(()=>s("label",{for:"password",class:"from-label"},"密码",-1)),N={class:"from-item"},q=l(()=>s("label",{for:"confirmPassword",class:"from-label"},"确认密码",-1)),z={class:"from-item"},A=l(()=>s("label",{for:"smsCode",class:"from-label"},"验证码",-1)),F={class:"sms"},G={key:1},H={__name:"register",setup(n){const f=C(),g=I(),e=k({mobile:"",password:"",confirmPassrowd:"",smscode:"",name:""});function h(){const{mobile:b,password:o,confirmPassrowd:t,smscode:x}=e;if(!new RegExp(/^[0-9]{11}$/).test(b))return i({title:"提示",message:"请输入正确的手机号"}),!1;if(!o)return i({title:"提示",message:"请输入密码"}),!1;if(o!==t)return i({title:"提示",message:"两次密码不一样"}),!1;if(!new RegExp(/^\d{6}$/).test(x))return i({title:"提示",message:"验证码格式不正确"}),!1;f.SET_mobile(e.mobile),f.SET_password(e.password),i({message:"注册成功！去登录"}).then(()=>{g.replace({name:"login"})})}const _=p("获取验证码"),m=p(!1),d=p(60);let v=null;function S(){m.value=!0,v=setInterval(()=>{d.value-=1,d.value<=0&&(_.value="重新发送",m.value=!0,clearInterval(v))},1e3)}return(b,o)=>(c(),u("div",E,[T,s("div",U,[s("div",B,[D,a(s("input",{id:"name",class:"from-input",type:"text",placeholder:"请输入商家名称","onUpdate:modelValue":o[0]||(o[0]=t=>e.name=t)},null,512),[[r,e.name]])]),s("div",M,[R,a(s("input",{id:"mobile",class:"from-input",type:"tel",max:"11",placeholder:"请输入手机号","onUpdate:modelValue":o[1]||(o[1]=t=>e.mobile=t)},null,512),[[r,e.mobile]])]),s("div",$,[j,a(s("input",{id:"password",class:"from-input",type:"password",placeholder:"长度8到16位 仅限字母数字","onUpdate:modelValue":o[2]||(o[2]=t=>e.password=t)},null,512),[[r,e.password]])]),s("div",N,[q,a(s("input",{id:"confirmPassword",class:"from-input",type:"password",placeholder:"请再次确认密码","onUpdate:modelValue":o[3]||(o[3]=t=>e.confirmPassrowd=t)},null,512),[[r,e.confirmPassrowd]])]),s("div",z,[A,a(s("input",{id:"smsCode",class:"from-input",type:"tel",max:"6",placeholder:"请输入手机验证码","onUpdate:modelValue":o[4]||(o[4]=t=>e.smscode=t)},null,512),[[r,e.smscode]]),s("div",F,[m.value?(c(),u("span",G,w(d.value)+"秒",1)):(c(),u("span",{key:0,onClick:S},w(_.value),1))])])]),s("button",{type:"button",class:"btn",onClick:h},"注册")]))}},ts=y(H,[["__scopeId","data-v-e45aa1c5"]]);export{ts as default};
