import{q as p,a5 as S,g as I,T as M,a as E,r as m,n as N,S as R,N as W,a2 as Y,L as j,a6 as q,H as z,a3 as U,a7 as K,a8 as Z,z as v,a9 as D,K as G,aa as X,ab as O,Q as J,d as L,c as x,m as Q}from"./index-CfVD-mOI.js";const _e=null,w=[Number,String],ee={type:Boolean,default:!0},Ie=e=>({type:e,required:!0}),Me=()=>({type:Array,default:()=>[]}),Re=e=>({type:Number,default:e}),ze=e=>({type:w,default:e}),k=e=>({type:String,default:e});var y=typeof window<"u";function De(e){return y?requestAnimationFrame(e):-1}var te=e=>e===window,$=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Le=e=>{const t=p(e);if(te(t)){const n=t.innerWidth,r=t.innerHeight;return $(n,r)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():$(0,0)};function Fe(e=!1){const t=m(e);return[t,(r=!t.value)=>{t.value=r}]}function Ve(e){const t=S(e,null);if(t){const n=I(),{link:r,unlink:s,internalChildren:a}=t;r(n),M(()=>s(n));const u=E(()=>a.indexOf(n));return{parent:t,index:u}}return{parent:null,index:m(-1)}}function ne(e){const t=[],n=r=>{Array.isArray(r)&&r.forEach(s=>{var a;K(s)&&(t.push(s),(a=s.component)!=null&&a.subTree&&(t.push(s.component.subTree),n(s.component.subTree.children)),s.children&&n(s.children))})};return n(e),t}var A=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(r=>t.key!==void 0&&t.key!==null&&r.type===t.type&&r.key===t.key):n};function re(e,t,n){const r=ne(e.subTree.children);n.sort((a,u)=>A(r,a.vnode)-A(r,u.vnode));const s=n.map(a=>a.proxy);t.sort((a,u)=>{const o=s.indexOf(a),i=s.indexOf(u);return o-i})}function He(e){const t=N([]),n=N([]),r=I();return{children:t,linkChildren:a=>{U(e,Object.assign({link:i=>{i.proxy&&(n.push(i),t.push(i.proxy),re(r,t,n))},unlink:i=>{const c=n.indexOf(i);t.splice(c,1),n.splice(c,1)},children:t,internalChildren:n},a))}}}function oe(e){let t;R(()=>{e(),W(()=>{t=!0})}),Y(()=>{t&&e()})}function ie(e,t,n={}){if(!y)return;const{target:r=window,passive:s=!1,capture:a=!1}=n;let u=!1,o;const i=l=>{if(u)return;const f=p(l);f&&!o&&(f.addEventListener(e,t,{capture:a,passive:s}),o=!0)},c=l=>{if(u)return;const f=p(l);f&&o&&(f.removeEventListener(e,t,a),o=!1)};M(()=>c(r)),j(()=>c(r)),oe(()=>i(r));let g;return q(r)&&(g=z(r,(l,f)=>{c(f),i(l)})),()=>{g==null||g(),c(r),u=!0}}function We(e,t,n={}){if(!y)return;const{eventName:r="click"}=n;ie(r,a=>{(Array.isArray(e)?e:[e]).every(i=>{const c=p(i);return c&&!c.contains(a.target)})&&t(a)},{target:document})}var h,b;function se(){if(!h&&(h=m(0),b=m(0),y)){const e=()=>{h.value=window.innerWidth,b.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:h,height:b}}var ae=/scroll|auto|overlay/i,F=y?window:void 0;function ce(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function ue(e,t=F){let n=e;for(;n&&n!==t&&ce(n);){const{overflowY:r}=window.getComputedStyle(n);if(ae.test(r))return n;n=n.parentNode}return t}function Ye(e,t=F){const n=m();return R(()=>{e.value&&(n.value=ue(e.value,t))}),n}var le=Symbol("van-field");function je(e){const t=S(le,null);t&&!t.customValue.value&&(t.customValue.value=e,z(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function qe(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Ue(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}Z();const fe=e=>e.stopPropagation();function Ke(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&fe(e)}function Ze(e){const t=p(e);if(!t)return!1;const n=window.getComputedStyle(t),r=n.display==="none",s=t.offsetParent===null&&n.position!=="fixed";return r||s}const{width:de,height:ge}=se();function pe(e){const t=window.getComputedStyle(e);return t.transform!=="none"||t.perspective!=="none"||["transform","perspective","filter"].some(n=>(t.willChange||"").includes(n))}function Ge(e){let t=e.parentElement;for(;t;){if(t&&t.tagName!=="HTML"&&t.tagName!=="BODY"&&pe(t))return t;t=t.parentElement}return null}function d(e){if(v(e))return D(e)?`${e}px`:String(e)}function Xe(e){if(v(e)){if(Array.isArray(e))return{width:d(e[0]),height:d(e[1])};const t=d(e);return{width:t,height:t}}}function Je(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let C;function me(){if(!C){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;C=parseFloat(t)}return C}function we(e){return e=e.replace(/rem/g,""),+e*me()}function ye(e){return e=e.replace(/vw/g,""),+e*de.value/100}function he(e){return e=e.replace(/vh/g,""),+e*ge.value/100}function Qe(e){if(typeof e=="number")return e;if(G){if(e.includes("rem"))return we(e);if(e.includes("vw"))return ye(e);if(e.includes("vh"))return he(e)}return parseFloat(e)}const ve=/-(\w)/g,V=e=>e.replace(ve,(t,n)=>n.toUpperCase()),et=(e,t,n)=>Math.min(Math.max(e,t),n);function xe(e){const t=V(e)+".";return(n,...r)=>{const s=X.messages(),a=O(s,t+n)||O(s,n);return J(a)?a(...r):a}}function P(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,r)=>n+P(e,r),""):Object.keys(t).reduce((n,r)=>n+(t[r]?P(e,r):""),""):""}function be(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${P(t,n)}`)}function T(e){const t=`van-${e}`;return[t,be(t),xe(t)]}function H(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(V(`-${n}`),e))},e}const[Ce,B]=T("badge"),ke={dot:Boolean,max:w,tag:k("div"),color:String,offset:Array,content:w,showZero:ee,position:k("top-right")};var Pe=L({name:Ce,props:ke,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:o,showZero:i}=e;return v(o)&&o!==""&&(i||o!==0&&o!=="0")},r=()=>{const{dot:o,max:i,content:c}=e;if(!o&&n())return t.content?t.content():v(i)&&D(c)&&+c>+i?`${i}+`:c},s=o=>o.startsWith("-")?o.replace("-",""):`-${o}`,a=E(()=>{const o={background:e.color};if(e.offset){const[i,c]=e.offset,{position:g}=e,[l,f]=g.split("-");t.default?(typeof c=="number"?o[l]=d(l==="top"?c:-c):o[l]=l==="top"?d(c):s(c),typeof i=="number"?o[f]=d(f==="left"?i:-i):o[f]=f==="left"?d(i):s(i)):(o.marginTop=d(c),o.marginLeft=d(i))}return o}),u=()=>{if(n()||e.dot)return x("div",{class:B([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[r()])};return()=>{if(t.default){const{tag:o}=e;return x(o,{class:B("wrapper")},{default:()=>[t.default(),u()]})}return u()}}});const Se=H(Pe),[Ee,tt]=T("config-provider"),Te=Symbol(Ee),[Ne,_]=T("icon"),Oe=e=>e==null?void 0:e.includes("/"),$e={dot:Boolean,tag:k("i"),name:String,size:w,badge:w,color:String,badgeProps:Object,classPrefix:String};var Ae=L({name:Ne,props:$e,setup(e,{slots:t}){const n=S(Te,null),r=E(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||_());return()=>{const{tag:s,dot:a,name:u,size:o,badge:i,color:c}=e,g=Oe(u);return x(Se,Q({dot:a,tag:s,class:[r.value,g?"":`${r.value}-${u}`],style:{color:c,fontSize:d(o)},content:i},e.badgeProps),{default:()=>{var l;return[(l=t.default)==null?void 0:l.call(t),g&&x("img",{class:_("image"),src:u},null)]}})}}});const nt=H(Ae);export{Re as A,Se as B,Fe as C,Ue as D,De as E,Ge as F,Xe as G,ue as H,nt as I,Ve as a,We as b,T as c,ie as d,Le as e,et as f,Je as g,_e as h,Ie as i,d as j,je as k,k as l,ze as m,w as n,Me as o,Ke as p,oe as q,Ye as r,Qe as s,ee as t,He as u,Ze as v,H as w,de as x,ge as y,qe as z};
