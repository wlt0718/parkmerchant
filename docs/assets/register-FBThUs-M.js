import{_ as I,u as y,l as k,r as p,b as c,h as s,n as i,v as n,t as w,o as u,p as P,j as C}from"./index-Fxc2rSLZ.js";import{u as E}from"./user-CbL2sjN8.js";import{s as l}from"./function-call-txs_bA_b.js";import"./mount-component-C5Fb-PVh.js";import"./index-Dx5oZIrL.js";import"./use-expose-BD6BJhaI.js";import"./index-DYO-ELmY.js";import"./use-route-B7CSn7qS.js";import"./index.esm-Pm4_1N2A.js";import"./use-placeholder-DhgDnae7.js";import"./use-height-7sdLfgOH.js";const r=a=>(P("data-v-8eeee363"),a=a(),C(),a),T={class:"login"},V=r(()=>s("div",{class:"title"},"账号注册",-1)),U={class:"from"},B={class:"from-item"},D=r(()=>s("label",{for:"mobile",class:"from-label"},"手机号",-1)),M={class:"from-item"},R=r(()=>s("label",{for:"password",class:"from-label"},"密码",-1)),$={class:"from-item"},j=r(()=>s("label",{for:"confirmPassword",class:"from-label"},"确认密码",-1)),N={class:"from-item"},q=r(()=>s("label",{for:"smsCode",class:"from-label"},"验证码",-1)),z={class:"sms"},A={key:1},F={__name:"register",setup(a){const f=E(),g=y(),e=k({mobile:"",password:"",confirmPassrowd:"",smscode:""});function h(){const{mobile:b,password:o,confirmPassrowd:t,smscode:x}=e;if(!new RegExp(/^[0-9]{11}$/).test(b))return l({title:"提示",message:"请输入正确的手机号"}),!1;if(!o)return l({title:"提示",message:"请输入密码"}),!1;if(o!==t)return l({title:"提示",message:"两次密码不一样"}),!1;if(!new RegExp(/^\d{6}$/).test(x))return l({title:"提示",message:"验证码格式不正确"}),!1;f.SET_mobile(e.mobile),f.SET_password(e.password),l({message:"注册成功！去登录"}).then(()=>{g.replace({name:"login"})})}const _=p("获取验证码"),m=p(!1),d=p(60);let v=null;function S(){m.value=!0,v=setInterval(()=>{d.value-=1,d.value<=0&&(_.value="重新发送",m.value=!0,clearInterval(v))},1e3)}return(b,o)=>(u(),c("div",T,[V,s("div",U,[s("div",B,[D,i(s("input",{id:"mobile",class:"from-input",type:"tel",max:"11",placeholder:"请输入手机号","onUpdate:modelValue":o[0]||(o[0]=t=>e.mobile=t)},null,512),[[n,e.mobile]])]),s("div",M,[R,i(s("input",{id:"password",class:"from-input",type:"password",placeholder:"长度8到16位 仅限字母数字","onUpdate:modelValue":o[1]||(o[1]=t=>e.password=t)},null,512),[[n,e.password]])]),s("div",$,[j,i(s("input",{id:"confirmPassword",class:"from-input",type:"password",placeholder:"请再次确认密码","onUpdate:modelValue":o[2]||(o[2]=t=>e.confirmPassrowd=t)},null,512),[[n,e.confirmPassrowd]])]),s("div",N,[q,i(s("input",{id:"smsCode",class:"from-input",type:"tel",max:"6",placeholder:"请输入手机验证码","onUpdate:modelValue":o[3]||(o[3]=t=>e.smscode=t)},null,512),[[n,e.smscode]]),s("div",z,[m.value?(u(),c("span",A,w(d.value)+"秒",1)):(u(),c("span",{key:0,onClick:S},w(_.value),1))])])]),s("button",{type:"button",class:"btn",onClick:h},"注册")]))}},os=I(F,[["__scopeId","data-v-8eeee363"]]);export{os as default};
