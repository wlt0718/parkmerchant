import{_ as v,E as y,u as g,n as j,a as x,o as B,f as C,j as o,x as m,y as c,c as S,q as V,F as k,p as N,l as P}from"./index-CjJM-_zo.js";import{u as E}from"./project-6LQLmV_a.js";import{a as p}from"./function-call-BIYs2Lyr.js";import{B as F}from"./mount-component-DHlKC6En.js";import"./index-ClfTCOY7.js";import"./index-DXagRkgH.js";import"./on-popup-reopen-DVyMNl9U.js";import"./use-placeholder-DJzMM5mT.js";import"./use-route-CBP6vgWG.js";import"./index-BzK9mV0u.js";const l=a=>(N("data-v-063d3fbb"),a=a(),P(),a),I={class:"page"},U={class:"from"},w={class:"from-item"},M=l(()=>o("label",{for:"name",class:"from-label"},"项目名称",-1)),T={class:"from-item"},q=l(()=>o("label",{for:"amount",class:"from-label"},"项目费用",-1)),D=l(()=>o("div",{style:{"flex-shrink":"0"}},"元 / 位",-1)),R={class:"from-item"},z=l(()=>o("label",{for:"bili",class:"from-label"},"佣金比例",-1)),A=l(()=>o("div",{class:"sms"}," % ",-1)),G={class:"from-item yj"},H=l(()=>o("label",{for:"yongjin",class:"from-label"},"佣金（元）",-1)),J=l(()=>o("div",{class:"from-item"},[o("label",{for:"smsCode",class:"from-label"},"项目图片"),o("input",{id:"smsCode",class:"from-input",type:"tel",max:"6",placeholder:"请点击上传项目图片",readonly:""})],-1)),K=l(()=>o("div",{class:"footer-box"},null,-1)),L={class:"footer"},O={class:"footer-btn"},Q={__name:"addProject",setup(a){const f=y(),u=g(),i=E(),t=j({id:"",name:"",amount:null,bili:null}),{type:r="0",id:_=""}=f.query;if(document.title=r==="0"?"新增项目":"修改项目",r!=="0"){const e=i.list.find(s=>s.id===Number(_));t.id=e.id,t.name=e.name,t.amount=e.amount,t.bili=e.bili}const d=x(()=>t.amount&&t.bili?(Number(t.amount)*Number(t.bili)/100).toFixed(2):"");function b(){if(r==="0"){t.id=i.list[i.list.length-1].id+1;const e=t;e.yongjin=d.value,i.SET_list_add(e),p({title:"提示",confirmButtonColor:"#5075ff",message:"新增成功，是否返回到项目列表？"}).then(()=>{u.go(-1)}).catch(()=>{})}else{const e=t;e.yongjin=d.value,i.SET_list_change(e),p({title:"提示",confirmButtonColor:"#5075ff",message:"修改成功，是否返回到项目列表？"}).then(()=>{u.go(-1)}).catch(()=>{})}}return(e,s)=>{const h=F;return B(),C(k,null,[o("div",I,[o("div",U,[o("div",w,[M,m(o("input",{id:"name",class:"from-input",type:"tel",max:"11",placeholder:"请输入项目名称","onUpdate:modelValue":s[0]||(s[0]=n=>t.name=n)},null,512),[[c,t.name]])]),o("div",T,[q,m(o("input",{id:"amount",class:"from-input",type:"number",placeholder:"请输入项目费用","onUpdate:modelValue":s[1]||(s[1]=n=>t.amount=n)},null,512),[[c,t.amount]]),D]),o("div",R,[z,m(o("input",{id:"bili",class:"from-input",type:"number",placeholder:"请输入佣金比例","onUpdate:modelValue":s[2]||(s[2]=n=>t.bili=n)},null,512),[[c,t.bili]]),A]),o("div",G,[H,m(o("input",{id:"yongjin",class:"from-input",type:"number",placeholder:"自动生成","onUpdate:modelValue":s[3]||(s[3]=n=>d.value=n),readonly:"",style:{color:"#999999"}},null,512),[[c,d.value]])]),J])]),K,o("div",L,[o("div",O,[S(h,{color:"#5075ff",onClick:b,round:"",block:"",text:V(r)==="0"?"新增项目":"修改项目"},null,8,["text"])])])],64)}}},no=v(Q,[["__scopeId","data-v-063d3fbb"]]);export{no as default};
